---
description: Rules for UI component development using shadcn/ui and Vision MCP
alwaysApply: true
---

# UI Component Development Rules

## Shadcn MCP Server Usage

### Component Selection

1. **Use shadcn/ui components** via Shadcn MCP when available
2. **Search component library** before building custom components
3. **Follow shadcn/ui patterns** for consistency
4. **Use Shadcn MCP** to get component examples and usage patterns
5. **Customize components** through props, not by modifying source
6. **Keep component versions** consistent with shadcn/ui updates
7. **Use Vision MCP** to analyze design mockups before implementation

### Component Installation

1. **Use Shadcn MCP** to add components to the project
2. **Review component dependencies** before installation
3. **Keep components.json** updated with your configuration
4. **Use project-specific styling** (Tailwind theme)
5. **Install only needed components** to reduce bundle size
6. **Review component code** after installation
7. **Test components** in isolation first

### Component Customization

1. **Override styles** via Tailwind utilities, not component source
2. **Use variant props** for different component states
3. **Extend components** with composition when needed
4. **Maintain consistent spacing** using Tailwind scale
5. **Follow design system** guidelines
6. **Use Vision MCP** to verify UI matches design specifications
7. **Test responsive behavior** of all components

## Design System Integration

1. **Follow project design tokens** (colors, spacing, typography)
2. **Use consistent color palette** across all components
3. **Maintain proper spacing hierarchy**
4. **Use project typography scale** (text-sm, text-lg, etc.)
5. **Implement proper dark mode** support
6. **Ensure accessibility** - proper contrast ratios, keyboard navigation
7. **Use Vision MCP** to analyze visual consistency

## Responsive Design

1. **Mobile-first approach** - design for mobile, enhance for desktop
2. **Use Tailwind breakpoints** (sm, md, lg, xl, 2xl)
3. **Test on multiple screen sizes**
4. **Use responsive utilities** (responsive spacing, sizing)
5. **Implement proper touch targets** - min 44x44px
6. **Handle orientation changes** gracefully
7. **Use Vision MCP** to verify responsive layouts

## Accessibility

1. **Use semantic HTML** - proper headings, landmarks, lists
2. **Add proper ARIA labels** where needed
3. **Ensure keyboard navigation** works for all interactive elements
4. **Provide focus indicators** for keyboard users
5. **Maintain proper color contrast ratios** (WCAG AA minimum)
6. **Use alt text** for all images
7. **Test with screen readers** for critical components

## Component Architecture

1. **Keep components small and focused**
2. **Use composition** over complex component hierarchies
3. **Extract shared logic** into custom hooks
4. **Use proper prop types** with TypeScript
5. **Implement proper error boundaries**
6. **Use layout components** for page structure
7. **Avoid prop drilling** with proper state placement

## Form Components

1. **Use proper form validation** (React Hook Form, Zod)
2. **Provide clear error messages**
3. **Use proper input types** (email, number, tel, etc.)
4. **Implement proper label-input associations**
5. **Use controlled components** for form inputs
6. **Handle form submission** properly (prevent default)
7. **Use Shadcn MCP** for form components (Input, Select, Checkbox, etc.)

## Data Display Components

1. **Use proper table components** for tabular data
2. **Implement pagination** for large datasets
3. **Use loading states** for async data
4. **Handle empty states** gracefully
5. **Use proper data formatting** (currency, dates, numbers)
6. **Implement sorting and filtering** when needed
7. **Use Shadcn MCP** for data display components (Table, Card, etc.)

## Feedback Components

1. **Use toasts** for non-intrusive notifications
2. **Use modals** for focused interactions
3. **Use alerts** for important messages
4. **Provide proper loading indicators**
5. **Use proper animation** for state transitions
6. **Handle component unmounting** properly
7. **Use Shadcn MCP** for feedback components (Toast, Dialog, Alert, etc.)

## Performance

1. **Lazy load heavy components** with dynamic imports
2. **Use React.memo** for expensive renders
3. **Avoid unnecessary re-renders** with proper dependency arrays
4. **Optimize images** with next/image
5. **Use CSS containment** when appropriate
6. **Minimize prop changes** from parent components
7. **Use Next DevTools MCP** to analyze component performance

## Testing UI Components

1. **Write unit tests** for component behavior
2. **Test user interactions** - clicks, inputs, etc.
3. **Test edge cases** - empty states, errors, loading
4. **Use visual regression testing** for critical components
5. **Test accessibility** with automated tools
6. **Test responsive behavior** across breakpoints
7. **Use Vision MCP** to compare implemented UI with designs

## Documentation

1. **Document component usage** with examples
2. **Document prop interfaces** with descriptions
3. **Provide usage examples** for complex components
4. **Document accessibility features**
5. **Document variant options** and behaviors
6. **Keep README updated** when adding new components
7. **Use Shadcn MCP** to find component documentation when needed
